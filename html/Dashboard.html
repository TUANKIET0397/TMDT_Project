<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Shoppmall Admin Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@300;400;600;700;800&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../css/Dashboard.css" />
  </head>

  <body>
    <div class="Listproduct_container">
      <aside class="Listproduct_sidebar">
        <div class="sidebar_content">
          <div class="Listproduct_logo">Shoppmall</div>

          <div class="sidebar_search-box">
            <i class="fa-solid fa-magnifying-glass"></i>
            <input
              type="text"
              class="sidebar_search-input"
              placeholder=" Search for..."
            />
          </div>

          <nav class="menu">
            <div class="menu-item dashboard-btn">
              <div class="item_container">
                <i class="fa-solid fa-house"></i>
                <div class="item_title">Dashboard</div>
              </div>
              <i class="fa-solid fa-chevron-right dashboard-icon"></i>
            </div>

            <div class="dashboard_menu">
              <div class="dashboard_item dashboard_item--active">Reports</div>
              <div class="dashboard_item">Products</div>
              <div class="dashboard_item">Invoices</div>
            </div>

            <div class="menu-item">
              <div class="item_container">
                <i class="fa-solid fa-comment"></i>
                <div class="item_title">Chat</div>
              </div>
              <i class="fa-solid fa-chevron-right"></i>
            </div>

            <div class="menu-item">
              <div class="item_container">
                <i class="fa-solid fa-user"></i>
                <div class="item_title">Users</div>
              </div>
              <i class="fa-solid fa-chevron-right"></i>
            </div>
          </nav>
        </div>

        <div class="user-section">
          <div class="user-info">
            <div class="user-avatar"></div>
            <div>
              <div class="user-name">Nemo</div>
              <div class="user_sub">
                <div class="user-subtitle">Account settings</div>
                <i class="fa-solid fa-chevron-right"></i>
              </div>
            </div>
          </div>
        </div>
      </aside>

      <!-- MAIN DASHBOARD -->
      <main class="main">
        <div class="topbar">
          <div class="topbar-left">
            <h1>Welcome back, Thuan</h1>
            <p>All your data have recorded in dashboard</p>
          </div>

          <button class="export-btn">
            Export data <i class="fa-solid fa-download"></i>
          </button>
        </div>

        <!-- Stats cards -->
        <div class="stats">
          <div class="card">
            <div class="card-header">
              <div class="card-title">
                <i class="fa-solid fa-eye"></i>
                <span>Pageviews</span>
              </div>
              <i class="fa-solid fa-ellipsis"></i>
            </div>

            <div class="card-bottom">
              <div class="card-value">50.8K</div>
              <div class="card-growth positive">
                <span>28.4%</span>
                <i class="fa-solid fa-arrow-trend-up"></i>
              </div>
            </div>
          </div>

          <div class="card">
            <div class="card-header">
              <div class="card-title">
                <i class="fa-solid fa-user"></i>
                <span>Monthly users</span>
              </div>
              <i class="fa-solid fa-ellipsis"></i>
            </div>

            <div class="card-bottom">
              <div class="card-value">23.6K</div>
              <div class="card-growth negative">
                <span>12.6%</span>
                <i class="fa-solid fa-arrow-trend-down"></i>
              </div>
            </div>
          </div>

          <div class="card">
            <div class="card-header">
              <div class="card-title">
                <i class="fa-solid fa-user-plus"></i>
                <span>New sign ups</span>
              </div>
              <i class="fa-solid fa-ellipsis"></i>
            </div>

            <div class="card-bottom">
              <div class="card-value">756</div>
              <div class="card-growth positive">
                <span>3.1%</span>
                <i class="fa-solid fa-arrow-trend-up"></i>
              </div>
            </div>
          </div>

          <div class="card">
            <div class="card-header">
              <div class="card-title">
                <i class="fa-solid fa-file-invoice"></i>
                <span>Total invoices</span>
              </div>
              <i class="fa-solid fa-ellipsis"></i>
            </div>

            <div class="card-bottom">
              <div class="card-value">2.3K</div>
              <div class="card-growth positive">
                <span>11.3%</span>
                <i class="fa-solid fa-arrow-trend-up"></i>
              </div>
            </div>
          </div>
        </div>

        <!-- Charts -->
        <div class="charts">
          <!-- TOTAL REVENUE -->
          <div class="chart-large">
            <div class="chart-header">
              <div class="chart-title">
                <h3>Total revenue</h3>
                <div class="chart-stats">
                  <span class="chart-value">$240.8K</span>
                  <p class="growth positive">
                    +24.6% <i class="fa-solid fa-arrow-trend-up"></i>
                  </p>
                </div>
              </div>
              <input type="date" class="date-picker" value="2025-11-05" />
            </div>
            <canvas id="revenueChart"></canvas>
          </div>

          <!-- SIDE CHARTS -->
          <div class="chart-side">
            <div class="chart-small">
              <div class="chart-header">
                <div class="chart-title">
                  <h3>Clothes category</h3>
                  <div class="chart-stats">
                    <span class="chart-value">3,652</span>
                    <p class="growth positive">
                      +28.5% <i class="fa-solid fa-arrow-trend-up"></i>
                    </p>
                  </div>
                </div>
              </div>
              <canvas id="clothesChart"></canvas>
            </div>

            <div class="chart-small">
              <div class="chart-header">
                <div class="chart-title">
                  <h3>Product revenue</h3>
                  <div class="chart-stats">
                    <span class="chart-value">$400.875</span>
                    <p class="growth negative">
                      -3.2% <i class="fa-solid fa-arrow-trend-down"></i>
                    </p>
                  </div>
                </div>
              </div>
              <canvas id="productChart"></canvas>
            </div>
          </div>
        </div>

        <!-- ===== INVOICES STATUS ===== -->
        <section class="invoice-section">
          <div class="invoice-header">
            <h2>Invoices Status</h2>
            <input type="date" class="date-picker" value="2025-11-05" />
          </div>

          <table class="invoice-table">
            <thead>
              <tr>
                <th><input type="checkbox" id="checkAll" /></th>
                <th>Order</th>
                <th>Client</th>
                <th>Date</th>
                <th>Status</th>
                <th>Country</th>
                <th>Total</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><input type="checkbox" class="checkItem" /></td>
                <td>#1532</td>
                <td>
                  <strong>John Carter</strong><br />
                  <span class="email">hello@johncarter.com</span>
                </td>
                <td>Jan 30, 2024</td>
                <td><span class="status done">Done</span></td>
                <td>District 7</td>
                <td>$1,099.24</td>
                <td>
                  <button class="trash">
                    <i class="fa-solid fa-trash"></i>
                  </button>
                </td>
              </tr>
              <tr>
                <td><input type="checkbox" class="checkItem" /></td>
                <td>#1531</td>
                <td>
                  <strong>Sophie Moore</strong><br />
                  <span class="email">contact@sophiemoore.com</span>
                </td>
                <td>Jan 27, 2024</td>
                <td><span class="status canceled">Canceled</span></td>
                <td>District 1</td>
                <td>$5,870.32</td>
                <td>
                  <button class="trash">
                    <i class="fa-solid fa-trash"></i>
                  </button>
                </td>
              </tr>
              <tr>
                <td><input type="checkbox" class="checkItem" /></td>
                <td>#1530</td>
                <td>
                  <strong>Matt Cannon</strong><br />
                  <span class="email">info@mattcannon.com</span>
                </td>
                <td>Jan 24, 2024</td>
                <td><span class="status done">Done</span></td>
                <td>Binh Thanh</td>
                <td>$13,899.48</td>
                <td>
                  <button class="trash">
                    <i class="fa-solid fa-trash"></i>
                  </button>
                </td>
              </tr>
              <tr>
                <td><input type="checkbox" class="checkItem" /></td>
                <td>#1529</td>
                <td>
                  <strong>Graham Hills</strong><br />
                  <span class="email">hi@grahamhills.com</span>
                </td>
                <td>Jan 21, 2024</td>
                <td><span class="status delivered">Delivered</span></td>
                <td>Go Vap</td>
                <td>$1,569.12</td>
                <td>
                  <button class="trash">
                    <i class="fa-solid fa-trash"></i>
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </section>
      </main>
    </div>

    <script>
      // Sidebar dropdown (Dashboard)
      const dashboardBtn = document.querySelector(".dashboard-btn");
      const dashboardMenu = document.querySelector(".dashboard_menu");
      const dashboardIcon = document.querySelector(".dashboard-icon");
      const menuItems = document.querySelectorAll(".menu-item");

      dashboardMenu.style.maxHeight = "0";
      dashboardMenu.style.opacity = "0";
      dashboardMenu.style.overflow = "hidden";
      dashboardMenu.style.transition =
        "max-height 0.5s ease, opacity 0.5s ease";

      let isMenuOpen = false;
      dashboardBtn.addEventListener("click", function () {
        isMenuOpen = !isMenuOpen;
        if (isMenuOpen) {
          dashboardMenu.style.maxHeight = dashboardMenu.scrollHeight + "px";
          dashboardMenu.style.opacity = "1";
          dashboardIcon.style.transform = "rotate(90deg)";
          dashboardIcon.style.transition = "transform 0.3s ease";
        } else {
          dashboardMenu.style.maxHeight = "0";
          dashboardMenu.style.opacity = "0";
          dashboardIcon.style.transform = "rotate(0deg)";
        }
      });

      // Active menu item
      menuItems.forEach((item) => {
        const container = item.querySelector(".item_container");
        if (!container) return;
        item.addEventListener("click", function (e) {
          e.stopPropagation();
          const isActive = container.classList.contains("menu-item--active");
          menuItems.forEach((i) => {
            const c = i.querySelector(".item_container");
            if (c) c.classList.remove("menu-item--active");
          });
          if (!isActive) container.classList.add("menu-item--active");
        });
      });

      // === Chart.js setup ===
      const revenueCtx = document.getElementById("revenueChart");
      new Chart(revenueCtx, {
        type: "line",
        data: {
          labels: [
            "Jan",
            "Feb",
            "Mar",
            "Apr",
            "May",
            "Jun",
            "Jul",
            "Aug",
            "Sep",
            "Oct",
            "Nov",
            "Dec",
          ],
          datasets: [
            {
              label: "Revenue",
              data: [
                0, 5000, 12000, 12500, 15000, 20000, 25000, 27000, 31000, 35000,
                38000, 40000,
              ],
              borderColor: "#CB3CFF",
              backgroundColor: "rgba(128,90,213,0.3)",
              tension: 0.4,
              fill: true,
            },
          ],
        },
        options: {
          plugins: { legend: { display: false } },
          scales: {
            x: { ticks: { color: "#a0aec0" }, grid: { color: "#2d3748" } },
            y: { ticks: { color: "#a0aec0" }, grid: { color: "#2d3748" } },
          },
        },
      });

      const clothesCtx = document.getElementById("clothesChart");
      new Chart(clothesCtx, {
        type: "bar",
        data: {
          labels: [
            "T-shirt",
            "Shirt",
            "Shoes",
            "Knitwear",
            "Pants",
            "Socks",
            "Shorts",
            "Outerwear",
          ],
          datasets: [
            {
              label: "Men",
              data: [350, 500, 280, 430, 210, 150, 240, 330],
              backgroundColor: "#CB3CFF",
            },
            {
              label: "Women",
              data: [250, 400, 220, 310, 260, 180, 200, 280],
              backgroundColor: "#63b3ed",
            },
          ],
        },
        options: {
          plugins: {
            legend: {
              labels: { color: "#a0aec0", font: { size: 9, weight: "200" } },
            },
          },
          scales: {
            x: {
              ticks: {
                color: "#a0aec0",
                font: { size: 7, weight: "200" },
                maxRotation: 0,
                minRotation: 0,
              },
            },
            y: { ticks: { color: "#a0aec0" }, grid: { color: "#2d3748" } },
          },
        },
      });

      const productCtx = document.getElementById("productChart");
      new Chart(productCtx, {
        type: "line",
        data: {
          labels: [
            "Jan",
            "Feb",
            "Mar",
            "Apr",
            "May",
            "Jun",
            "Jul",
            "Aug",
            "Sep",
            "Oct",
            "Nov",
            "Dec",
          ],
          datasets: [
            {
              label: "Outerwear",
              data: [80, 120, 160, 150, 180, 220, 300, 270, 310, 250, 200, 220],
              borderColor: "#CB3CFF",
              backgroundColor: "rgba(99,179,237,0.2)",
              tension: 0.4,
              fill: true,
            },
          ],
        },
        options: {
          plugins: { legend: { display: false } },
          scales: {
            x: {
              ticks: {
                color: "#a0aec0",
                font: { size: 7, weight: "200" },
                maxRotation: 0,
                minRotation: 0,
              },
            },
            y: { ticks: { color: "#a0aec0" }, grid: { color: "#2d3748" } },
          },
        },
      });

      // check all
      const checkAll = document.getElementById("checkAll");
      const checkboxes = document.querySelectorAll(".checkItem");
      const rows = document.querySelectorAll(".invoice-table tbody tr");

      checkAll.addEventListener("change", () => {
        checkboxes.forEach((cb, i) => {
          cb.checked = checkAll.checked;
          rows[i].classList.toggle("selected", checkAll.checked);
        });
      });

      checkboxes.forEach((cb, i) => {
        cb.addEventListener("change", () => {
          rows[i].classList.toggle("selected", cb.checked);
          if (!cb.checked) checkAll.checked = false;
          else if ([...checkboxes].every((c) => c.checked))
            checkAll.checked = true;
        });
      });
    </script>
  </body>
</html>
